# User's Guide to Admin App v4

The Ed-Fi Admin App is a web-based application that provides administrative capabilities for managing Ed-Fi ODS/API implementations. It allows administrators to configure security, manage vendors, and oversee data access policies.

## Prerequisites

Before you begin, ensure you have:

* Access to an Ed-Fi ODS/API instance
* Appropriate administrative credentials
* A supported web browser (Chrome, Firefox, Safari, or Edge)

## Logging in

Admin App uses an OAuth2 identity provider (IdP) that supports Open ID Connect. The out-of-the-box experience uses an open source IdP called Keycloak. Your installation may use a different provider, such as Google or Microsoft Entra ID.

<!-- TODO: add screenshot of keycloak -->

Your organization may have setup multi-factor authentication, requiring you to enter a one-time access code to finish signing in.

After a successful login, you will be brought to the Admin App homepage which will list out all the teams your user is associated with. If associated with multiple teams, you will have the option to choose your team from the dropdown at the top left of the screen. If your user is only associated with one team (most common case) then the team will be pre-selected for you.

<!-- TODO: copy images into Ed-Fi Azure blob storage -->

![Tenant List](https://edfidocs.blob.core.windows.net/$web/img/reference/admin-app/user-guide/tenant_list.png)

:::tip

**Team** in Admin App is a collection of owned resources. Most installations will have a single **team** consisting of all environments at the top level, and all the related owned resources therein.

An **environment** is a single deployment of the Ed-Fi ODS/API.

:::

## General Overview

On the left hand side, there are two sections to be aware of. At the top of the menu there are high level team-wide resources.

* `Home` - High level overview about Ed-Fi environments within your team's scope. Here you will see the API version and data standard version for each environment.
* `Account` - Overview of your user team memberships and user role.
* `Users` - Shows a list of users with access to your team within Admin App.

![Top Left Navigation](https://edfidocs.blob.core.windows.net/$web/img/reference/admin-app/user-guide/general-overview.png)

The bottom half of the left side navigation bar lists out the Ed-Fi environments that your team has access to. Drilling down into any of these environments will list the Tenants, ODSs, Ed-Orgs, Vendors, Applications and Claimsets available to your team in that specific environment.

![Bottom Left Navigation](https://edfidocs.blob.core.windows.net/$web/img/reference/admin-app/user-guide/environment-bar-list.png)

The bulk of useful functionality will be within these Ed-Fi environment specific resources.

:::tip
There is also a search box here for your convenience. Users can navigate directly to their chosen Ed-Fi tenant by typing the name into the search box. Users will be able to navigate to the tenant level resources directly through action buttons within the search results.

![Search Box Example](https://edfidocs.blob.core.windows.net/$web/img/reference/admin-app/user-guide/search-box.png)
:::

## Creating Applications

:::warning
Before creating applications in Admin App make sure to understand the different concepts of [**resource authorization in Ed-Fi**](./resource-authorization.md).
:::

Users are able to create application credentials through Admin App.

![Admin App Create Application](https://edfidocs.blob.core.windows.net/$web/img/reference/admin-app/user-guide/create-application.gif)

1. Login and, on the left hand side under environments, choose the environment to create a new application.
2. Click into the Ed-Fi tenant that the application will be associated with.
3. Under `Resources` for the tenant, click on `Applications`
4. To create a new application, click on the `+New` button at the top of the Applications table
5. On the next page you will be prompted to enter in an Application Name, select an Education Organization, select a Vendor, and select a Claimset.

   :::info
   Some general guidance when creating applications. You will want to choose an application name that will reflect the integrating system with which the credentials will be used. This name will appear in the API URL generated by Admin App.

   The **Ed-Org** will be the education organization with which you would like the API credentials to be associated. This will generally mean that any data in your environment that is related to that Ed-Org will be accessible via the application credentials you create.

   **Vendors** for environments on an Ed-Fi version lower than 7.1, Admin App users will not have the ability to manage vendors within their environments if the environment is shared amongst various education agencies. This list will be controlled by EA. For environments on Ed-Fi 7.1+, Admin App users will have control over management of Vendors within their Ed-Fi Tenant.

   **Claimsets** will also be pre-populated and maintained in the environment by EA. They are not able to be managed by Admin App users at this time. Claimsets will generally be named for the access they provide. If you are unsure which Claimset to associate with your application, please reach out to EA.
   :::

6. After clicking `Save` on the application creation page, a card will pop up to notify you that new credentials have been generated for the application. Depending on your configuration, either:

   * The new credentials will display on the screen, or
   * The screen will have a generated link that can be shared with whomever needs the credentials. **It is a one time access link so it's important that the API credentials are saved to a local password manager to be retrieved later or entered straight into the integrating system.**

## Managing Application Credentials

Admin App users are also able to delete or reset existing application credentials.

![Admin App Manage Application](https://edfidocs.blob.core.windows.net/$web/img/reference/admin-app/user-guide/manage-credentials.gif)

1. Navigate to `Applications` under the relevant Environment > Ed-Fi Tenant
2. Search for the application in the table that you would like to delete or reset credentials for.
3. You can use one of the action buttons that pops up when you hover over the application name in the table.
4. Resetting credentials will take you to that application's details page and a new pop-up card with the One Time Share (OTS) link will appear like when first creating the application.
5. Clicking delete for the application, the user will be faced with a confirmation prompt to make sure the user is sure of their choice. Hitting `Yes` will remove the application from the table and also the environment.

## Troubleshooting

If you encounter issues during setup:

1. Verify your network connectivity
2. Check your credentials
3. Ensure the Ed-Fi ODS/API is accessible
4. Review the Admin App logs for error messages

For additional support, consult your system administrator or refer to the Ed-Fi community resources.

## Next Steps

See the following pages for more detailed guidance on special topics.

* [Resource Authorization and Admin App](./resource-authorization.md)
* [Tenant and ODS Management in Admin App](./tenant-and-ods.md)
* [Vendor and Claimset Management](./vendors-and-claimsets.md)
